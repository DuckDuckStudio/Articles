# 修改 WSL Ubuntu 中的 DNS 设置

## 0. 操作前确认
请确认你已安装 Ubuntu:  
```powershell
[Powered by 虚空终端] PS D:\...> wsl --list --verbose
  NAME              STATE           VERSION
* docker-desktop    Stopped         2
  Ubuntu            Stopped         2
```

## 1. 打开 Ubuntu
通过Windows终端配置文件或以下命令打开 Ubuntu:  
```powershell
wsl -d Ubuntu
```

## 2. 编辑配置文件
```bash
sudo nano /etc/resolv.conf
```
一般你会看到:  
```conf
# This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:
# [network]
# generateResolvConf = false
nameserver **.**.**.**
```
可修改为:  
```conf
# This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:
# [network]
# generateResolvConf = false
nameserver 1.1.1.1
```
等别的设置。

## 3. 设置不自动生成
前面的提示消息写的很清楚了:  
```bash
sudo nano /etc/wsl.conf
```
添加:  
```conf
[network]
generateResolvConf = false
```
